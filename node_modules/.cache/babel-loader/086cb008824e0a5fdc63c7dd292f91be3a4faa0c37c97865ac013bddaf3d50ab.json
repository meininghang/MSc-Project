{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.typed-array.to-reversed.js\");\nrequire(\"core-js/modules/es.typed-array.to-sorted.js\");\nrequire(\"core-js/modules/es.typed-array.with.js\");\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.b64UrlDecode = exports.b64UrlEncode = exports.bufferTob64Url = exports.bufferTob64 = exports.b64UrlToBuffer = exports.stringToB64Url = exports.stringToBuffer = exports.bufferToString = exports.b64UrlToString = exports.concatBuffers = void 0;\nconst B64js = __importStar(require(\"base64-js\"));\nfunction concatBuffers(buffers) {\n  let total_length = 0;\n  for (let i = 0; i < buffers.length; i++) {\n    total_length += buffers[i].byteLength;\n  }\n  let temp = new Uint8Array(total_length);\n  let offset = 0;\n  temp.set(new Uint8Array(buffers[0]), offset);\n  offset += buffers[0].byteLength;\n  for (let i = 1; i < buffers.length; i++) {\n    temp.set(new Uint8Array(buffers[i]), offset);\n    offset += buffers[i].byteLength;\n  }\n  return temp;\n}\nexports.concatBuffers = concatBuffers;\nfunction b64UrlToString(b64UrlString) {\n  let buffer = b64UrlToBuffer(b64UrlString);\n  return bufferToString(buffer);\n}\nexports.b64UrlToString = b64UrlToString;\nfunction bufferToString(buffer) {\n  // TextEncoder will be available in browsers, but not in node\n  if (typeof TextDecoder == \"undefined\") {\n    const TextDecoder = require(\"util\").TextDecoder;\n    return new TextDecoder(\"utf-8\", {\n      fatal: true\n    }).decode(buffer);\n  }\n  return new TextDecoder(\"utf-8\", {\n    fatal: true\n  }).decode(buffer);\n}\nexports.bufferToString = bufferToString;\nfunction stringToBuffer(string) {\n  // TextEncoder will be available in browsers, but not in node\n  if (typeof TextEncoder == \"undefined\") {\n    const TextEncoder = require(\"util\").TextEncoder;\n    return new TextEncoder().encode(string);\n  }\n  return new TextEncoder().encode(string);\n}\nexports.stringToBuffer = stringToBuffer;\nfunction stringToB64Url(string) {\n  return bufferTob64Url(stringToBuffer(string));\n}\nexports.stringToB64Url = stringToB64Url;\nfunction b64UrlToBuffer(b64UrlString) {\n  return new Uint8Array(B64js.toByteArray(b64UrlDecode(b64UrlString)));\n}\nexports.b64UrlToBuffer = b64UrlToBuffer;\nfunction bufferTob64(buffer) {\n  return B64js.fromByteArray(new Uint8Array(buffer));\n}\nexports.bufferTob64 = bufferTob64;\nfunction bufferTob64Url(buffer) {\n  return b64UrlEncode(bufferTob64(buffer));\n}\nexports.bufferTob64Url = bufferTob64Url;\nfunction b64UrlEncode(b64UrlString) {\n  return b64UrlString.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/\\=/g, \"\");\n}\nexports.b64UrlEncode = b64UrlEncode;\nfunction b64UrlDecode(b64UrlString) {\n  b64UrlString = b64UrlString.replace(/\\-/g, \"+\").replace(/\\_/g, \"/\");\n  let padding;\n  b64UrlString.length % 4 == 0 ? padding = 0 : padding = 4 - b64UrlString.length % 4;\n  return b64UrlString.concat(\"=\".repeat(padding));\n}\nexports.b64UrlDecode = b64UrlDecode;","map":{"version":3,"names":["B64js","__importStar","require","concatBuffers","buffers","total_length","i","length","byteLength","temp","Uint8Array","offset","set","exports","b64UrlToString","b64UrlString","buffer","b64UrlToBuffer","bufferToString","TextDecoder","fatal","decode","stringToBuffer","string","TextEncoder","encode","stringToB64Url","bufferTob64Url","toByteArray","b64UrlDecode","bufferTob64","fromByteArray","b64UrlEncode","replace","padding","concat","repeat"],"sources":["../../../../src/common/lib/utils.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}