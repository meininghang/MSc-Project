{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from \"vuex\";\nimport fileIconView from \"@/components/commonComponent/fileIconView\";\nimport commentDialog from \"@/components/__dialog/commentDialog\";\nexport default {\n  name: \"fileList\",\n  components: {\n    fileIconView,\n    commentDialog\n  },\n  props: {\n    allOrderList: {\n      type: Array,\n      default: () => []\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    totalTableLength: {\n      type: Number,\n      default: 0\n    },\n    fileStyle: {\n      type: Object,\n      default: () => {}\n    },\n    currentPage: {\n      type: Number,\n      default: 1\n    }\n  },\n  data() {\n    return {\n      showButton: false\n      // loading: true,\n    };\n  },\n\n  computed: {\n    ...mapGetters({\n      accountStr: 'account/account'\n    })\n  },\n  methods: {\n    handlePagination(pageIndex) {\n      this.$emit('changePagination', pageIndex);\n    },\n    clickToDetail(item) {\n      this.$router.push({\n        name: \"FileDetail\",\n        params: {\n          id: item.itemId ? item.itemId : item.hash\n        }\n      });\n      sessionStorage.setItem('FILE_DETAIL_JSON', JSON.stringify(item));\n    },\n    changeButton(value) {\n      if (this.$route.query.searchTab === 'allFile') {\n        console.log('daozhje');\n        this.clickToDetail(value);\n        return;\n      }\n      // this.showButton = true\n      this.$emit(\"changeTableData\", value);\n    },\n    closeButton() {\n      // this.showButton = false\n    },\n    async comment(item) {\n      const id = item.itemId ? item.itemId : item.hash;\n      this.$refs['commentDialog'].openDialog(id, item.Bundler);\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","fileIconView","commentDialog","name","components","props","allOrderList","type","Array","default","loading","Boolean","totalTableLength","Number","fileStyle","Object","currentPage","data","showButton","computed","accountStr","methods","handlePagination","pageIndex","$emit","clickToDetail","item","$router","push","params","id","itemId","hash","sessionStorage","setItem","JSON","stringify","changeButton","value","$route","query","searchTab","console","log","closeButton","comment","$refs","openDialog","Bundler"],"sources":["src/components/commonComponent/list.vue"],"sourcesContent":["<template>\r\n  <div class=\"file-list__main\">\r\n    <el-table\r\n        :data=\"allOrderList\"\r\n        :row-style=\"{}\"\r\n        empty-text=\"NO DATA\"\r\n        style=\"width: 100%\"\r\n        v-loading=\"loading\"\r\n        @cell-mouse-enter=\"changeButton\"\r\n        @cell-mouse-leave\t=\"closeButton\">\r\n      <el-table-column\r\n          prop=\"name\"\r\n          label=\"FILE NAME\">\r\n        <template slot-scope=\"scope\">\r\n          <p\r\n              class=\"span-table-text\"\r\n              style=\"display: flex;align-items: center\">\r\n            <fileIconView :file-type=\"scope.row.fileType\"></fileIconView>\r\n            {{ scope.row.fileName }}\r\n          </p>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"tags\"\r\n          label=\"\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag\r\n              v-if=\"scope.row.tags.find(item => (item.name.toUpperCase() === 'weave-collect'.toUpperCase() && item.value === accountStr))\"\r\n              style=\"border-color: rgba(0, 0, 0, 1);color: #6447F2\"\r\n          >\r\n            Collected\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"fileSize\"\r\n          label=\"SIZE\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"tags\"\r\n          label=\"TAGS\"\r\n          width=\"400px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tooltip class=\"item\" effect=\"light\" placement=\"top-start\">\r\n            <div slot=\"content\">\r\n              <p class=\"table-item-tags-position\" style=\"display: flex;align-items: center;justify-content: start;flex-wrap: wrap\">\r\n            <span v-for=\"(item, index) in scope.row.tags\" :key=\"index\" class=\"table-tag-style\">\r\n              {{item.value}}\r\n            </span>\r\n              </p>\r\n            </div>\r\n            <p class=\"table-item-tags-position view-text\">\r\n            <span v-for=\"(item, index) in scope.row.tags\" :key=\"index\" class=\"table-tag-style\">\r\n              {{item.value}}\r\n            </span>\r\n            </p>\r\n          </el-tooltip>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"time\"\r\n          align=\"right\"\r\n          label=\"TIME\"\r\n      width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <!--          {{scope.row.showButton}}-->\r\n          <div v-if=\"scope.row.showButton\" class=\"view-button\">\r\n            <span class=\"click-to-detail\" @click=\"clickToDetail(scope.row)\">\r\n              <img src=\"../../assets/svg/eye.svg\" alt=\"\">\r\n              VIEW\r\n          </span>\r\n            <span class=\"click-to-detail\" @click=\"comment(scope.row)\">\r\n              <i class=\"el-icon-s-comment\"/>\r\n              COMMENT\r\n          </span>\r\n          </div>\r\n          <div v-else>{{scope.row.time}}</div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"file-list-pagination\">\r\n      <el-pagination\r\n          :page-size=\"10\"\r\n          :current-page=\"currentPage\"\r\n          hide-on-single-page\r\n          @current-change=\"handlePagination\"\r\n          @prev-click=\"handlePagination\"\r\n          @next-click=\"handlePagination\"\r\n          layout=\"prev, pager, next\"\r\n          :total=\"totalTableLength\">\r\n      </el-pagination>\r\n    </div>\r\n    <commentDialog ref=\"commentDialog\"></commentDialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from \"vuex\"\r\nimport fileIconView from \"@/components/commonComponent/fileIconView\"\r\nimport commentDialog from \"@/components/__dialog/commentDialog\"\r\n\r\nexport default {\r\n  name: \"fileList\",\r\n  components: {\r\n    fileIconView,\r\n    commentDialog\r\n  },\r\n  props: {\r\n    allOrderList: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    totalTableLength: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    fileStyle: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    currentPage: {\r\n      type: Number,\r\n      default: 1\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      showButton: false,\r\n      // loading: true,\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      accountStr: 'account/account'\r\n    })\r\n  },\r\n  methods: {\r\n    handlePagination(pageIndex) {\r\n      this.$emit('changePagination', pageIndex)\r\n    },\r\n    clickToDetail(item) {\r\n      this.$router.push({\r\n        name: \"FileDetail\",\r\n        params: {\r\n          id: item.itemId ? item.itemId : item.hash\r\n        }\r\n      })\r\n      sessionStorage.setItem('FILE_DETAIL_JSON', JSON.stringify(item))\r\n    },\r\n    changeButton(value) {\r\n      if (this.$route.query.searchTab === 'allFile') {\r\n        console.log('daozhje')\r\n        this.clickToDetail(value)\r\n        return\r\n      }\r\n      // this.showButton = true\r\n      this.$emit(\"changeTableData\", value)\r\n    },\r\n    closeButton() {\r\n      // this.showButton = false\r\n    },\r\n    async comment(item) {\r\n      const id = item.itemId ? item.itemId : item.hash\r\n      this.$refs['commentDialog'].openDialog(id, item.Bundler)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.file-list__main {\r\n  min-height: 300px;\r\n  .view-button {\r\n    display: flex;\r\n    justify-content: right;\r\n    align-items: center;\r\n  }\r\n}\r\n.file-list__main .el-table thead {\r\n  color: #A9A8B0;\r\n  text-align: center;\r\n}\r\n.file-list__main .el-table thead tr {\r\n  background: #FCFCFC;\r\n  text-align: center;\r\n}\r\n.file-list__main .file-list-pagination {\r\n  margin: 10px 0;\r\n  text-align: right;\r\n}\r\n.file-list__main .span-table-text {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 14px;\r\n  color: #09244B;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.table-tag-style {\r\n  /*display: inline-block;*/\r\n  /*width: 60px;*/\r\n  /*height: 19px;*/\r\n  padding: 2px 8px;\r\n  border-radius: 6px;\r\n  margin-right: 8px;\r\n  background: #FAF9F8;\r\n  color: #09244B;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  margin-bottom: 8px;\r\n}\r\n.click-to-detail {\r\n  display: inline-block;\r\n  width: 87px;\r\n  height: 28px;\r\n  line-height: 28px;\r\n  background: #000000;\r\n  color: #ffffff;\r\n  border-radius: 10px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  font-size: 10px;\r\n}\r\n.click-to-detail:nth-child(1) {\r\n  margin-right: 5px;\r\n}\r\n.table-item-tags-position {\r\n  width: 265px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.view-text{\r\n  display: inline-block;\r\n  white-space: nowrap;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  text-overflow:ellipsis;\r\n}\r\n</style>"],"mappings":";AAiGA,SAAAA,UAAA;AACA,OAAAC,YAAA;AACA,OAAAC,aAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAH,YAAA;IACAC;EACA;EACAG,KAAA;IACAC,YAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,OAAA,EAAAA,CAAA;IACA;IACAC,OAAA;MACAH,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;IACAG,gBAAA;MACAL,IAAA,EAAAM,MAAA;MACAJ,OAAA;IACA;IACAK,SAAA;MACAP,IAAA,EAAAQ,MAAA;MACAN,OAAA,EAAAA,CAAA;IACA;IACAO,WAAA;MACAT,IAAA,EAAAM,MAAA;MACAJ,OAAA;IACA;EACA;EACAQ,KAAA;IACA;MACAC,UAAA;MACA;IACA;EACA;;EACAC,QAAA;IACA,GAAAnB,UAAA;MACAoB,UAAA;IACA;EACA;EACAC,OAAA;IACAC,iBAAAC,SAAA;MACA,KAAAC,KAAA,qBAAAD,SAAA;IACA;IACAE,cAAAC,IAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACAzB,IAAA;QACA0B,MAAA;UACAC,EAAA,EAAAJ,IAAA,CAAAK,MAAA,GAAAL,IAAA,CAAAK,MAAA,GAAAL,IAAA,CAAAM;QACA;MACA;MACAC,cAAA,CAAAC,OAAA,qBAAAC,IAAA,CAAAC,SAAA,CAAAV,IAAA;IACA;IACAW,aAAAC,KAAA;MACA,SAAAC,MAAA,CAAAC,KAAA,CAAAC,SAAA;QACAC,OAAA,CAAAC,GAAA;QACA,KAAAlB,aAAA,CAAAa,KAAA;QACA;MACA;MACA;MACA,KAAAd,KAAA,oBAAAc,KAAA;IACA;IACAM,YAAA;MACA;IAAA,CACA;IACA,MAAAC,QAAAnB,IAAA;MACA,MAAAI,EAAA,GAAAJ,IAAA,CAAAK,MAAA,GAAAL,IAAA,CAAAK,MAAA,GAAAL,IAAA,CAAAM,IAAA;MACA,KAAAc,KAAA,kBAAAC,UAAA,CAAAjB,EAAA,EAAAJ,IAAA,CAAAsB,OAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}