{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst ed25519_1 = require(\"@noble/ed25519\");\nconst base64url_1 = __importDefault(require(\"base64url\"));\nconst constants_1 = require(\"../../constants\");\nclass InjectedSolanaSigner {\n  constructor(provider) {\n    this.ownerLength = constants_1.SIG_CONFIG[2].pubLength;\n    this.signatureLength = constants_1.SIG_CONFIG[2].sigLength;\n    this.signatureType = 2;\n    this.provider = provider;\n    this._publicKey = this.provider.publicKey.toBuffer();\n  }\n  get publicKey() {\n    return this._publicKey;\n  }\n  async sign(message) {\n    if (!this.provider.signMessage) throw new Error(\"Selected Wallet does not support message signing\");\n    return await this.provider.signMessage(message);\n  }\n  static async verify(pk, message, signature) {\n    let p = pk;\n    if (typeof pk === \"string\") p = base64url_1.default.toBuffer(pk);\n    return ed25519_1.verify(Buffer.from(signature), Buffer.from(message), Buffer.from(p));\n  }\n}\nexports.default = InjectedSolanaSigner;","map":{"version":3,"names":["ed25519_1","require","base64url_1","__importDefault","constants_1","InjectedSolanaSigner","constructor","provider","ownerLength","SIG_CONFIG","pubLength","signatureLength","sigLength","signatureType","_publicKey","publicKey","toBuffer","sign","message","signMessage","Error","verify","pk","signature","p","default","Buffer","from","exports"],"sources":["injectedSolanaSigner.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;AACA,MAAAA,SAAA,GAAAC,OAAA;AACA,MAAAC,WAAA,GAAAC,eAAA,CAAAF,OAAA;AACA,MAAAG,WAAA,GAAAH,OAAA;AAGA,MAAqBI,oBAAoB;EAQvCC,YAAYC,QAAQ;IANX,KAAAC,WAAW,GAAWJ,WAAA,CAAAK,UAAU,CAAC,CAAC,CAAC,CAACC,SAAS;IAC7C,KAAAC,eAAe,GAAWP,WAAA,CAAAK,UAAU,CAAC,CAAC,CAAC,CAACG,SAAS;IACjD,KAAAC,aAAa,GAAW,CAAC;IAKhC,IAAI,CAACN,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACO,UAAU,GAAG,IAAI,CAACP,QAAQ,CAACQ,SAAS,CAACC,QAAQ,EAAE;EACtD;EAEA,IAAWD,SAASA,CAAA;IAClB,OAAO,IAAI,CAACD,UAAU;EACxB;EAEA,MAAMG,IAAIA,CAACC,OAAmB;IAC5B,IAAI,CAAC,IAAI,CAACX,QAAQ,CAACY,WAAW,EAC5B,MAAM,IAAIC,KAAK,CAAC,kDAAkD,CAAC;IACrE,OAAO,MAAM,IAAI,CAACb,QAAQ,CAACY,WAAW,CAACD,OAAO,CAAC;EACjD;EAEA,aAAaG,MAAMA,CACjBC,EAAU,EACVJ,OAAmB,EACnBK,SAAqB;IAErB,IAAIC,CAAC,GAAGF,EAAE;IACV,IAAI,OAAOA,EAAE,KAAK,QAAQ,EAAEE,CAAC,GAAGtB,WAAA,CAAAuB,OAAS,CAACT,QAAQ,CAACM,EAAE,CAAC;IACtD,OAAOtB,SAAA,CAAAqB,MAAM,CACXK,MAAM,CAACC,IAAI,CAACJ,SAAS,CAAC,EACtBG,MAAM,CAACC,IAAI,CAACT,OAAO,CAAC,EACpBQ,MAAM,CAACC,IAAI,CAACH,CAAC,CAAC,CACf;EACH;;AAnCFI,OAAA,CAAAH,OAAA,GAAApB,oBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}