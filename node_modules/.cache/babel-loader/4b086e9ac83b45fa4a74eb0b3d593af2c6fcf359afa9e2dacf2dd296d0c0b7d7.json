{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.typed-array.to-reversed.js\");\nrequire(\"core-js/modules/es.typed-array.to-sorted.js\");\nrequire(\"core-js/modules/es.typed-array.with.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getError = void 0;\nclass ArweaveError extends Error {\n  constructor(type, optional = {}) {\n    if (optional.message) {\n      super(optional.message);\n    } else {\n      super();\n    }\n    this.type = type;\n    this.response = optional.response;\n  }\n  getType() {\n    return this.type;\n  }\n}\nexports.default = ArweaveError;\n// Safely get error string\n// from an axios response, falling back to\n// resp.data, statusText or 'unknown'.\n// Note: a wrongly set content-type can\n// cause what is a json response to be interepted\n// as a string or Buffer, so we handle that too.\nfunction getError(resp) {\n  let data = resp.data;\n  if (typeof resp.data === \"string\") {\n    try {\n      data = JSON.parse(resp.data);\n    } catch (e) {}\n  }\n  if (resp.data instanceof ArrayBuffer || resp.data instanceof Uint8Array) {\n    try {\n      data = JSON.parse(data.toString());\n    } catch (e) {}\n  }\n  return data ? data.error || data : resp.statusText || \"unknown\";\n}\nexports.getError = getError;","map":{"version":3,"names":["ArweaveError","Error","constructor","type","optional","message","response","getType","exports","default","getError","resp","data","JSON","parse","e","ArrayBuffer","Uint8Array","toString","error","statusText"],"sources":["../../../../src/common/lib/error.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;AASA,MAAqBA,YAAa,SAAQC,KAAK;EAI7CC,YACEC,IAAsB,EACtBC,QAAA,GAA2D,EAAE;IAE7D,IAAIA,QAAQ,CAACC,OAAO,EAAE;MACpB,KAAK,CAACD,QAAQ,CAACC,OAAO,CAAC;KACxB,MAAM;MACL,KAAK,EAAE;;IAGT,IAAI,CAACF,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACG,QAAQ,GAAGF,QAAQ,CAACE,QAAQ;EACnC;EAEOC,OAAOA,CAAA;IACZ,OAAO,IAAI,CAACJ,IAAI;EAClB;;AApBFK,OAAA,CAAAC,OAAA,GAAAT,YAAA;AA6BA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAgBU,QAAQA,CAACC,IAAuB;EAC9C,IAAIC,IAAI,GAAGD,IAAI,CAACC,IAAI;EAEpB,IAAI,OAAOD,IAAI,CAACC,IAAI,KAAK,QAAQ,EAAE;IACjC,IAAI;MACFA,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAACC,IAAI,CAAC;KAC7B,CAAC,OAAOG,CAAC,EAAE;;EAGd,IAAIJ,IAAI,CAACC,IAAI,YAAYI,WAAW,IAAIL,IAAI,CAACC,IAAI,YAAYK,UAAU,EAAE;IACvE,IAAI;MACFL,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACF,IAAI,CAACM,QAAQ,EAAE,CAAC;KACnC,CAAC,OAAOH,CAAC,EAAE;;EAGd,OAAOH,IAAI,GAAGA,IAAI,CAACO,KAAK,IAAIP,IAAI,GAAGD,IAAI,CAACS,UAAU,IAAI,SAAS;AACjE;AAhBAZ,OAAA,CAAAE,QAAA,GAAAA,QAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}