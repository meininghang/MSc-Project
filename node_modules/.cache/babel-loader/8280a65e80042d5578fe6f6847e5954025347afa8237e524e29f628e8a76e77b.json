{"ast":null,"code":"export default {\n  name: \"chartShow\",\n  data() {\n    return {\n      usedNumber: undefined,\n      totalNumber: undefined,\n      ARNumber: undefined\n    };\n  },\n  methods: {\n    inOrigin(usedNumber, totalNumber) {\n      this.usedNumber = usedNumber;\n      this.totalNumber = this.formatTotalNumber(totalNumber);\n      console.log(12222, this.usedNumber, totalNumber);\n      this.ARNumber = Math.round(totalNumber / 1024 / 0.76 * 100) / 100;\n      let myChart = this.$echarts.init(this.$refs.chart);\n      console.log(223334, myChart);\n      // 圆形饼状图\n      let option = {\n        tooltip: {\n          trigger: 'axis'\n        },\n        legend: {},\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'value',\n          boundaryGap: [0, 0.001]\n        },\n        yAxis: {\n          type: 'category',\n          data: ['USED', 'TOTAL']\n        },\n        series: [{\n          name: 'MB',\n          type: 'bar',\n          data: [this.totalNumber, totalNumber]\n        }]\n      };\n      // //图标自适应\n      // let listener = function () {\n      //   myChart.resize()\n      // }\n      // window.addEventListener('resize', listener)\n      //图标自适应\n      myChart.setOption(option);\n    },\n    formatTotalNumber(number) {\n      const formatN = Math.round(number / 1024 * 100) / 100;\n      if (formatN > 1) {\n        return formatN;\n      } else {\n        return number;\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","usedNumber","undefined","totalNumber","ARNumber","methods","inOrigin","formatTotalNumber","console","log","Math","round","myChart","$echarts","init","$refs","chart","option","tooltip","trigger","legend","grid","left","right","bottom","containLabel","xAxis","type","boundaryGap","yAxis","series","setOption","number","formatN"],"sources":["src/components/chartBanner.vue"],"sourcesContent":["<template>\r\n  <div class=\"charts-banner__main\">\r\n    <div class=\"storage-roseType\" style=\"width: 100%;height: 100%;z-index: 10\">\r\n      <div class=\"pie\" ref=\"chart\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"chartShow\",\r\n  data () {\r\n    return {\r\n      usedNumber: undefined,\r\n      totalNumber: undefined,\r\n      ARNumber: undefined,\r\n    }\r\n  },\r\n  methods: {\r\n    inOrigin (usedNumber, totalNumber) {\r\n      this.usedNumber = usedNumber\r\n      this.totalNumber = this.formatTotalNumber(totalNumber)\r\n      console.log(12222, this.usedNumber, totalNumber)\r\n      this.ARNumber = Math.round(((totalNumber / 1024) / 0.76) * 100) / 100\r\n      let myChart = this.$echarts.init(this.$refs.chart);\r\n      console.log(223334, myChart)\r\n      // 圆形饼状图\r\n      let option = {\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        legend: {},\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'value',\r\n          boundaryGap: [0, 0.001]\r\n        },\r\n        yAxis: {\r\n          type: 'category',\r\n          data: ['USED', 'TOTAL']\r\n        },\r\n        series: [\r\n          {\r\n            name: 'MB',\r\n            type: 'bar',\r\n            data: [this.totalNumber, totalNumber]\r\n          }\r\n        ]\r\n      };\r\n      // //图标自适应\r\n      // let listener = function () {\r\n      //   myChart.resize()\r\n      // }\r\n      // window.addEventListener('resize', listener)\r\n      //图标自适应\r\n      myChart.setOption(option);\r\n    },\r\n    formatTotalNumber(number) {\r\n      const formatN = Math.round(number / 1024 * 100) / 100\r\n      if (formatN > 1) {\r\n        return formatN\r\n      } else {\r\n        return number\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.charts-banner__main {\r\n  width: 100%;\r\n  height: 300px;\r\n  background: #f5f5f5;\r\n  border-radius: 20px;\r\n}\r\n</style>"],"mappings":"AASA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,UAAA,EAAAC,SAAA;MACAC,WAAA,EAAAD,SAAA;MACAE,QAAA,EAAAF;IACA;EACA;EACAG,OAAA;IACAC,SAAAL,UAAA,EAAAE,WAAA;MACA,KAAAF,UAAA,GAAAA,UAAA;MACA,KAAAE,WAAA,QAAAI,iBAAA,CAAAJ,WAAA;MACAK,OAAA,CAAAC,GAAA,aAAAR,UAAA,EAAAE,WAAA;MACA,KAAAC,QAAA,GAAAM,IAAA,CAAAC,KAAA,CAAAR,WAAA;MACA,IAAAS,OAAA,QAAAC,QAAA,CAAAC,IAAA,MAAAC,KAAA,CAAAC,KAAA;MACAR,OAAA,CAAAC,GAAA,SAAAG,OAAA;MACA;MACA,IAAAK,MAAA;QACAC,OAAA;UACAC,OAAA;QACA;QACAC,MAAA;QACAC,IAAA;UACAC,IAAA;UACAC,KAAA;UACAC,MAAA;UACAC,YAAA;QACA;QACAC,KAAA;UACAC,IAAA;UACAC,WAAA;QACA;QACAC,KAAA;UACAF,IAAA;UACA3B,IAAA;QACA;QACA8B,MAAA,GACA;UACA/B,IAAA;UACA4B,IAAA;UACA3B,IAAA,QAAAG,WAAA,EAAAA,WAAA;QACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACAS,OAAA,CAAAmB,SAAA,CAAAd,MAAA;IACA;IACAV,kBAAAyB,MAAA;MACA,MAAAC,OAAA,GAAAvB,IAAA,CAAAC,KAAA,CAAAqB,MAAA;MACA,IAAAC,OAAA;QACA,OAAAA,OAAA;MACA;QACA,OAAAD,MAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}