{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst common_1 = require(\"./common\");\ncommon_1.default.init = function (apiConfig = {}) {\n  function getDefaultConfig() {\n    const defaults = {\n      host: \"arweave.net\",\n      port: 443,\n      protocol: \"https\"\n    };\n    if (typeof location !== \"object\" || !location.protocol || !location.hostname) {\n      return defaults;\n    }\n    // window.location.protocol has a trailing colon (http:, https:, file: etc)\n    const currentProtocol = location.protocol.replace(\":\", \"\");\n    const currentHost = location.hostname;\n    const currentPort = location.port ? parseInt(location.port) : currentProtocol == \"https\" ? 443 : 80;\n    const isLocal = [\"localhost\", \"127.0.0.1\"].includes(currentHost) || currentProtocol == \"file\";\n    // If we're running in what looks like a local dev environment\n    // then default to using arweave.net\n    if (isLocal) {\n      return defaults;\n    }\n    return {\n      host: currentHost,\n      port: currentPort,\n      protocol: currentProtocol\n    };\n  }\n  const defaultConfig = getDefaultConfig();\n  const protocol = apiConfig.protocol || defaultConfig.protocol;\n  const host = apiConfig.host || defaultConfig.host;\n  const port = apiConfig.port || defaultConfig.port;\n  return new common_1.default(Object.assign(Object.assign({}, apiConfig), {\n    host,\n    protocol,\n    port\n  }));\n};\nif (typeof globalThis === \"object\") {\n  globalThis.Arweave = common_1.default;\n} else if (typeof self === \"object\") {\n  self.Arweave = common_1.default;\n}\n__exportStar(require(\"./common\"), exports);\nexports.default = common_1.default;","map":{"version":3,"names":["common_1","require","default","init","apiConfig","getDefaultConfig","defaults","host","port","protocol","location","hostname","currentProtocol","replace","currentHost","currentPort","parseInt","isLocal","includes","defaultConfig","Object","assign","globalThis","Arweave","self","__exportStar","exports"],"sources":["../../../src/web/index.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,QAAA,GAAAC,OAAA;AAYAD,QAAA,CAAAE,OAAO,CAACC,IAAI,GAAG,UAAUC,SAAA,GAAuB,EAAE;EAChD,SAASC,gBAAgBA,CAAA;IAKvB,MAAMC,QAAQ,GAAG;MACfC,IAAI,EAAE,aAAa;MACnBC,IAAI,EAAE,GAAG;MACTC,QAAQ,EAAE;KACX;IAED,IACE,OAAOC,QAAQ,KAAK,QAAQ,IAC5B,CAACA,QAAQ,CAACD,QAAQ,IAClB,CAACC,QAAQ,CAACC,QAAQ,EAClB;MACA,OAAOL,QAAQ;;IAGjB;IACA,MAAMM,eAAe,GAAGF,QAAQ,CAACD,QAAQ,CAACI,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;IAC1D,MAAMC,WAAW,GAAGJ,QAAQ,CAACC,QAAQ;IACrC,MAAMI,WAAW,GAAGL,QAAQ,CAACF,IAAI,GAC7BQ,QAAQ,CAACN,QAAQ,CAACF,IAAI,CAAC,GACvBI,eAAe,IAAI,OAAO,GAC1B,GAAG,GACH,EAAE;IAEN,MAAMK,OAAO,GACX,CAAC,WAAW,EAAE,WAAW,CAAC,CAACC,QAAQ,CAACJ,WAAW,CAAC,IAChDF,eAAe,IAAI,MAAM;IAE3B;IACA;IACA,IAAIK,OAAO,EAAE;MACX,OAAOX,QAAQ;;IAGjB,OAAO;MACLC,IAAI,EAAEO,WAAW;MACjBN,IAAI,EAAEO,WAAW;MACjBN,QAAQ,EAAEG;KACX;EACH;EAEA,MAAMO,aAAa,GAAGd,gBAAgB,EAAE;EAExC,MAAMI,QAAQ,GAAGL,SAAS,CAACK,QAAQ,IAAIU,aAAa,CAACV,QAAQ;EAC7D,MAAMF,IAAI,GAAGH,SAAS,CAACG,IAAI,IAAIY,aAAa,CAACZ,IAAI;EACjD,MAAMC,IAAI,GAAGJ,SAAS,CAACI,IAAI,IAAIW,aAAa,CAACX,IAAI;EAEjD,OAAO,IAAIR,QAAA,CAAAE,OAAO,CAAAkB,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACbjB,SAAS;IACZG,IAAI;IACJE,QAAQ;IACRD;EAAI,GACJ;AACJ,CAAC;AAED,IAAI,OAAOc,UAAU,KAAK,QAAQ,EAAE;EAClCA,UAAU,CAACC,OAAO,GAAGvB,QAAA,CAAAE,OAAO;CAC7B,MAAM,IAAI,OAAOsB,IAAI,KAAK,QAAQ,EAAE;EACnCA,IAAI,CAACD,OAAO,GAAGvB,QAAA,CAAAE,OAAO;;AAGxBuB,YAAA,CAAAxB,OAAA,cAAAyB,OAAA;AACAA,OAAA,CAAAxB,OAAA,GAAeF,QAAA,CAAAE,OAAO"},"metadata":{},"sourceType":"script","externalDependencies":[]}